<?php

$form = Form::Form()
	->add(Form::Text('world_art_id', 'ID на сайте world-art.ru')
		->setFilter('int')
		->setFilter('length', array('max'=>6)))
	->add(Form::Select('type', 'Тип аниме', array(
		'use_key'=>false,
		'optionsByQuery'=>'SELECT LOWER(type_id) AS `key`, name AS `value` FROM catalog_item_type ORDER BY name DESC'))
		->setDefaultValue('tv'))
	->add(Form::Text('name_ru', 'Русское название')
		->setFilter('empty')
		->setFilter('length', array('max'=>128)))
	->add(Form::Text('name_en', 'Английское название')
		->setFilter('empty')
		->setFilter('length', array('max'=>128)))
	->add(Form::Date('date_start', 'Дата начала сериала')
		->setDefaultValue(date('d.m.Y'))
		->setFilter('empty'))
	->add(Form::Date('date_end', 'Дата завершения сериала')
		->setComment('Если сериал продолжает выпускаться или это не сериал оставьте поле пустым'))
	->add(Form::MultiSelect('genre', 'Жанр', array(
		'use_key'=>false,
		'optionsByQuery'=>'SELECT genre_id AS `key`, name AS `value` FROM `catalog_genres` ORDER BY name ASC'))
		->setComment('Можно выбрать несколько жанров удерживая кнопку Ctrl')
		->setViewParams(array('size'=>5)))
	->add(Form::Select('production', 'Производство', array(
		'use_key'=>false,
		'optionsByQuery'=>'SELECT country_id AS `key`, name AS `value` FROM catalog_country ORDER BY name ASC'))
		->setDefaultValue('jp'))
	->add(Form::Text('duration', 'Продолжительность')
		->setComment('Укажите продолжительность одной серии, если это сериал или фильма в минутах')
		->setDefaultValue(25)
		->setViewParams(array('length'=>3))
		->setFilter('int')
		->setFilter('length', array('max'=>3)))
	->add(Form::TextArea('description', 'Краткое содержание')
		->setViewParams(array('cols'=>35,'rows'=>6)))
	->add(Form::Collection()
		->add(Form::Text('image-url', 'URL')
			->setFilter('length', array('max'=>256))
			->setComment('Загрузка картинки с удаленного сервера'))
		->add(Form::File('image-file', 'Зугрузить')
			->setComment('Загрузка картинки с локальной машины')))
	->add(Form::Text('path', 'Путь на диске')
		->setComment('Полный путь расположения аниме на диске')
		->setFilter('empty')
		->setFilter('length', array('max'=>256)))
	->add(Form::Text('storage_id', 'ID хранилища')
		->setFilter('empty')
		->setFilter('int')
		->setFilter('length', array('max'=>2)))
	->add(Form::TextArea('episodes', 'Список эпизодов')
		->setViewParams(array('cols'=>35,'rows'=>12))
		->setComment('Список эпизодов, по одному на каждую строчку. Серии можно разбивать на сезоны. '
		. 'Пример описания сезона: Первый сезон "Ranma 1/2" (c 15.04.1989 по 16.09.1989)'))
	->setName('catalog_item_add')
	->setSubmitTitle('Добавить аниме')
	->addButton('Автозаполнение', array('type'=>'submit','id'=>'catalog-item-autofill'));
